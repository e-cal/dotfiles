$mod = SUPER

# ------------------------------------------------------------------------------
#                                  Programs
# ------------------------------------------------------------------------------
bind = $mod, Return, exec, kitty
bind = $mod, w, exec, firefox
bind = $mod, e, exec, nemo
bind = $mod SHIFT, m, exec, [workspace 6]thunderbird
bind = $mod, s, exec, [workspace 5;tiled]spotify
bind = $mod SHIFT, s, exec, [noanim]grimblast copy area && wl-paste | swappy -f -
bind = $mod, c, exec, hyprpicker -a

bind = $mod, semicolon, exec, toggle-kbd-layout

bind = $mod, q, killactive, 
# bindr = CONTROL ALT, Delete, exit, 
bindr = CONTROL ALT, Delete, exec, eww -c ~/.config/eww/bar close bar; launch_dashboard
# ==============================================================================

# ------------------------------------------------------------------------------
#                                  Submaps
# ------------------------------------------------------------------------------

# -----------
# General
# -----------
bind=$mod, Space, submap, general
submap=general
# brightness
bind=,plus,exec,brightness set 10
bind=,bracketleft,exec,brightness set 20
bind=,braceleft,exec,brightness set 30
bind=,parenleft,exec,brightness set 40
bind=,ampersand,exec,brightness set 50
bind=,equal,exec,brightness set 60
bind=,parenright,exec,brightness set 70
bind=,braceright,exec,brightness set 80
bind=,bracketright,exec,brightness set 90
bind=,asterisk,exec,brightness set 100
# exit
bind=,plus,submap,reset
bind=,bracketleft,submap,reset
bind=,braceleft,submap,reset
bind=,parenleft,submap,reset
bind=,ampersand,submap,reset
bind=,equal,submap,reset
bind=,parenright,submap,reset
bind=,braceright,submap,reset
bind=,bracketright,submap,reset
bind=,asterisk,submap,reset
bind=,escape,submap,reset 
submap=reset

# -----------
# Screenshots
# -----------
bind=$mod CONTROL, s, submap, screenshot
submap=screenshot
# screenshot
bind=SHIFT,s,exec,[noanim]grimblast copy screen
bind=,w,exec,[noanim]grimblast copy window
bind=,s,exec,[noanim]grimblast copysave area
# exit
bind=,s,submap,reset 
bind=,w,submap,reset 
bind=SHIFT,s,submap,reset 
bind=,escape,submap,reset 
submap=reset

# ---------
# Comm apps
# ---------
bind=$mod CONTROL, c, submap, comm
submap=comm
# apps
bind=,s,exec,slack
bind=,t,exec,teams
bind=,d,exec,discord
bind=,z,exec,zoom
# exit
bind=,s,submap,reset
bind=,t,submap,reset
bind=,d,submap,reset
bind=,z,submap,reset
submap=reset

# ---------------
# Move and resize
# ---------------
bind = $mod CONTROL, m, submap, move
submap=move
# move
binde=,l,moveactive,30 0
binde=,h,moveactive,-30 0
binde=,k,moveactive,0 -30
binde=,j,moveactive,0 30
# resize
binde=SHIFT,l,resizeactive,10 0
binde=SHIFT,h,resizeactive,-10 0
binde=SHIFT,k,resizeactive,0 -10
binde=SHIFT,j,resizeactive,0 10
# float
bind=$mod,f,togglefloating, 
# exit
bind=$mod,f,submap,reset 
bind=,escape,submap,reset 
submap=reset

# ==============================================================================

# ------------------------------------------------------------------------------
#                                  Windows
# ------------------------------------------------------------------------------
# Layout
bind = $mod, f, togglefloating, 
bind = $mod SHIFT, f, fullscreen, 
bind = , F11, fakefullscreen, 
bind = $mod CONTROL, f, exec, closebar


bind = $mod, p, pseudo, 
bind = $mod, r, togglesplit,

# Focus
bind = $mod, h, movefocus, l
bind = $mod, l, movefocus, r
bind = $mod, k, movefocus, u
bind = $mod, j, movefocus, d
bind = SUPER,Tab,cyclenext,
bind = SUPER,Tab,bringactivetotop,

# Swap
bind = $mod CONTROL, h, swapwindow, l
bind = $mod CONTROL, l, swapwindow, r
bind = $mod CONTROL, k, swapwindow, u
bind = $mod CONTROL, j, swapwindow, d

# Resize
bind = $mod SHIFT, H, resizeactive, -30 0
bind = $mod SHIFT, L, resizeactive, 30 0
bind = $mod SHIFT, K, resizeactive, 0 -30
bind = $mod SHIFT, J, resizeactive, 0 30

# Workspaces
bind = $mod, plus, workspace, 1
bind = $mod, bracketleft, workspace, 2
bind = $mod, braceleft, workspace, 3
bind = $mod, parenleft, workspace, 4
bind = $mod, ampersand, workspace, 5
bind = $mod, equal, workspace, 6
bind = $mod, parenright, workspace, 7
bind = $mod, braceright, workspace, 8
bind = $mod, bracketright, workspace, 9
bind = $mod, asterisk, workspace, 10

bind = $mod SHIFT, plus, movetoworkspacesilent, 1
bind = $mod SHIFT, bracketleft, movetoworkspacesilent, 2
bind = $mod SHIFT, braceleft, movetoworkspacesilent, 3
bind = $mod SHIFT, parenleft, movetoworkspacesilent, 4
bind = $mod SHIFT, ampersand, movetoworkspacesilent, 5
bind = $mod SHIFT, equal, movetoworkspacesilent, 6
bind = $mod SHIFT, parenright, movetoworkspacesilent, 7
bind = $mod SHIFT, braceright, movetoworkspacesilent, 8
bind = $mod SHIFT, bracketright, movetoworkspacesilent, 9
bind = $mod SHIFT, asterisk, movetoworkspacesilent, 10

# Floats
binde = $mod, Right, moveactive, 30 0
binde = $mod, Left, moveactive, -30 0
binde = $mod, Up, moveactive, 0 -30
binde = $mod, Down, moveactive, 0 30
# ==============================================================================

# ------------------------------------------------------------------------------
#                                  Grouping
# ------------------------------------------------------------------------------
bind=$mod CONTROL, g, togglegroup,
bind=$mod CONTROL, g, resizeactive, 0 0
bind=$mod, g, submap, group
submap=group
bind=,g,togglegroup,
bind=,g,resizeactive, 0 0
bind=,h,moveintogroup,l
bind=,j,moveintogroup,d
bind=,k,moveintogroup,u
bind=,l,moveintogroup,r
bind=,tab,changegroupactive,f
bind=,o,moveoutofgroup,
# exit
bind=,g,submap,reset
bind=,h,submap,reset
bind=,j,submap,reset
bind=,k,submap,reset
bind=,l,submap,reset
bind=,tab,submap,reset
bind=,o,submap,reset
bind=,escape,submap,reset
submap=reset
# ==============================================================================

# ------------------------------------------------------------------------------
#                       Special workspaces (Scratchpads)
# ------------------------------------------------------------------------------
bind = $mod, backslash, exec , [workspace special:scratch]tm startup scratch
bindr = $mod, backslash, togglespecialworkspace, scratch

bind = $mod CONTROL, backslash, exec , [workspace special:ask]tm startup ask
bindr = $mod CONTROL, backslash, togglespecialworkspace, ask

bind = $mod SHIFT, backslash, exec , [noanim; workspace special:browser]firefox-scratch
bindr = $mod SHIFT, backslash, togglespecialworkspace, browser
# ==============================================================================

# ------------------------------------------------------------------------------
#                               Function keys
# ------------------------------------------------------------------------------
bind = ,XF86AudioRaiseVolume, exec, volume up
bind = ,XF86AudioLowerVolume, exec, volume down
bind = ,XF86AudioMute, exec, volume mute
bind = ,XF86AudioPlay, exec, playerctl play-pause
# ==============================================================================

# ------------------------------------------------------------------------------
#                                   Mouse
# ------------------------------------------------------------------------------
# Move/resize windows with mod + LMB/RMB and dragging
bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow

gestures {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    workspace_swipe = on
    workspace_swipe_invert = true
    workspace_swipe_distance = 300
    workspace_swipe_min_speed_to_force = 30
    workspace_swipe_cancel_ratio = 0.3
    workspace_swipe_forever = false
    workspace_swipe_numbered = false
}
# ==============================================================================
