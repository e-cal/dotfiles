# https://github.com/xkbcommon/libxkbcommon/blob/master/include/xkbcommon/xkbcommon-keysyms.h

$mod = SUPER

# Programs
bind = $mod, Return, exec, kitty
bind = $mod SHIFT, Return, exec, [noanim]rofi -show drun -config $HOME/.config/rofi/main.rasi
bind = $mod, e, exec, nemo
bind = $mod, s, exec, [noanim]flameshot gui
bind = $mod SHIFT, s, exec, [noanim]flameshot gui
bind = $mod, w, exec, firefox-ff
bind = $mod SHIFT, w, exec, firefox-float
bind = $mod SHIFT, g, exec, firefox "https://github.com/e-cal"
bind = $mod SHIFT, m, exec, [workspace 5]thunderbird
bind = $mod CONTROL, s, exec, [workspace 6;tiled]spotify
bind = $mod SHIFT, c, exec, hyprpicker -a

bind = $mod CONTROL, e, exec, eyes toggle

# Control
bind = $mod, semicolon, exec, toggle-kbd-layout
bind = $mod, q, killactive, 
bind = CONTROL ALT, Delete, exec, eww -c ~/.config/eww/bar close bar; launch_dashboard

# Layout
bind = $mod,r, togglesplit, 
bind = $mod, f, togglefloating,
bind = $mod SHIFT, f, fullscreen, 
bind = $mod alt, f, fakefullscreen, 
bind = $mod CONTROL, f, exec, togglebar
bind = $mod, p, pseudo, 

# --------------
# General submap
# --------------
bind=$mod, Space, submap, general
submap=general
# brightness
bind=,grave,exec,brightness set 5
bind=,plus,exec,brightness set 10
bind=,bracketleft,exec,brightness set 20
bind=,braceleft,exec,brightness set 30
bind=,parenleft,exec,brightness set 40
bind=,numbersign,exec,brightness set 50
bind=,equal,exec,brightness set 60
bind=,parenright,exec,brightness set 70
bind=,braceright,exec,brightness set 80
bind=,bracketright,exec,brightness set 90
bind=,asterisk,exec,brightness set 100
# exit
bind=,grave,submap,reset
bind=,plus,submap,reset
bind=,bracketleft,submap,reset
bind=,braceleft,submap,reset
bind=,parenleft,submap,reset
bind=,numbersign,submap,reset
bind=,equal,submap,reset
bind=,parenright,submap,reset
bind=,braceright,submap,reset
bind=,bracketright,submap,reset
bind=,asterisk,submap,reset
bind=,Escape,submap,reset 
bind=,Caps_Lock,submap,reset 
submap=reset

# ---------
# Comm apps
# ---------
bind=$mod, c, submap, comm
submap=comm
# apps
bind=,s,exec,slack
# bind=,t,exec,teams
bind=,t,exec,[workspace 4]firefox --new-window "https://teams.microsoft.com"
bind=,d,exec,discord
# bind=,z,exec,zoom
bind=,z,exec,[workspace 4]firefox --new-window "https://zoom.us/meeting"
# exit
bind=,s,submap,reset
bind=,t,submap,reset
bind=,d,submap,reset
bind=,z,submap,reset
bind=,Escape,submap,reset 
bind=,Caps_Lock,submap,reset 
submap=reset

# ---------------
# Move and resize
# ---------------
bind = $mod, m, submap, move
submap=move
# move
binde=,l,moveactive,30 0
binde=,h,moveactive,-30 0
binde=,k,moveactive,0 -30
binde=,j,moveactive,0 30
# resize
binde=SHIFT,l,resizeactive,10 0
binde=SHIFT,h,resizeactive,-10 0
binde=SHIFT,k,resizeactive,0 -10
binde=SHIFT,j,resizeactive,0 10
# splits
bind = ,r, togglesplit, # rotate
bind = ,f, splitratio, exact 1.5 # focus
bind = ,e, splitratio, exact 1 # even
bind = ,m, splitratio, exact 1.25 # main
bind = ,i, splitratio, exact 0.75 # inverse
# exit
bind=,r,submap,reset 
bind=,f,submap,reset 
bind=,e,submap,reset 
bind=,m,submap,reset 
bind=,i,submap,reset 
bind=,Escape,submap,reset 
bind=,Caps_Lock,submap,reset 
submap=reset

# ------------------------------------------------------------------------------
#                                  Windows
# ------------------------------------------------------------------------------
# Focus
bind = $mod, h, movefocus, l
bind = $mod, l, movefocus, r
bind = $mod, k, movefocus, u
bind = $mod, j, movefocus, d
bind = SUPER,Tab,cyclenext,
bind = SUPER,Tab,bringactivetotop,

# Swap
bind = $mod CONTROL, h, swapwindow, l
bind = $mod CONTROL, l, swapwindow, r
bind = $mod CONTROL, k, swapwindow, u
bind = $mod CONTROL, j, swapwindow, d

# Resize
bind = $mod SHIFT, H, resizeactive, -30 0
bind = $mod SHIFT, L, resizeactive, 30 0
bind = $mod SHIFT, K, resizeactive, 0 -30
bind = $mod SHIFT, J, resizeactive, 0 30

# Workspaces
bind = $mod, plus, exec, focusws 1
bind = $mod, bracketleft, exec, focusws 2
bind = $mod, braceleft, exec, focusws 3
bind = $mod, parenleft, exec, focusws 4
bind = $mod, numbersign, exec, focusws 5
bind = $mod, equal, exec, focusws 6
bind = $mod, parenright, exec, focusws 7
bind = $mod, braceright, exec, focusws 8
bind = $mod, bracketright, exec, focusws 9
bind = $mod, asterisk, exec, focusws 10

bind = $mod SHIFT, plus, movetoworkspacesilent, 1
bind = $mod SHIFT, bracketleft, movetoworkspacesilent, 2
bind = $mod SHIFT, braceleft, movetoworkspacesilent, 3
bind = $mod SHIFT, parenleft, movetoworkspacesilent, 4
bind = $mod SHIFT, numbersign, movetoworkspacesilent, 5
bind = $mod SHIFT, equal, movetoworkspacesilent, 6
bind = $mod SHIFT, parenright, movetoworkspacesilent, 7
bind = $mod SHIFT, braceright, movetoworkspacesilent, 8
bind = $mod SHIFT, bracketright, movetoworkspacesilent, 9
bind = $mod SHIFT, asterisk, movetoworkspacesilent, 10

# Floats
binde = $mod, Right, moveactive, 30 0
binde = $mod, Left, moveactive, -30 0
binde = $mod, Up, moveactive, 0 -30
binde = $mod, Down, moveactive, 0 30

# ------------------------------------------------------------------------------
#                       Special workspaces (Scratchpads)
# ------------------------------------------------------------------------------
bind = $mod SHIFT, backslash, movetoworkspacesilent, special:scratch

bind = $mod, t, exec, [workspace special:scratch]tm startup scratch
bind = $mod, t, togglespecialworkspace, scratch
bind = $mod, backslash, togglespecialworkspace, scratch
bind = $mod, backslash, exec, [workspace special:scratch]tm startup scratch

bind = $mod, b, exec, [noanim; workspace special:browser]firefox-scratch
bind = $mod, b, togglespecialworkspace, browser

bind = $mod, g, exec, [noanim; workspace special:ask]firefox-scratch ask
bind = $mod, g, togglespecialworkspace, ask

# ------------------------------------------------------------------------------
#                               Function keys
# ------------------------------------------------------------------------------
bind = ,XF86AudioRaiseVolume, exec, volume up
bind = ,XF86AudioLowerVolume, exec, volume down
bind = ,XF86AudioMute, exec, volume mute
bind = ,XF86AudioPlay, exec, playerctl play-pause

# ------------------------------------------------------------------------------
#                                   Mouse
# ------------------------------------------------------------------------------
# Move/resize windows with mod + LMB/RMB and dragging
bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow

gestures {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    workspace_swipe = on
    workspace_swipe_invert = true
    workspace_swipe_distance = 300
    workspace_swipe_min_speed_to_force = 30
    workspace_swipe_cancel_ratio = 0.3
    workspace_swipe_forever = false
    workspace_swipe_numbered = false
}
